jQuery("html").addClass("mc-js");var resizeFunction=null;var closeFunction=null;function onClose(c,b,a,d){c("#p1 .contentsbox_internal_open").animate({left:b+"em"},200).end();c("#p1 .contentsbox_wrap").animate({width:a,height:d,top:0},200);c("#p1 .contentsbox_internal").animate({left:"0em"},20);c(document).unbind("click",closeFunction);return false}jQuery(function(i){i("#UserEmail").focus();var l=-20,g=0,m=0,j=0;var f=i("#pS ul.jT");var b=f.length>0;var h=(i("#pC").hasClass("jN")==false)&&i("#pC").find("*").length>0;var n=i("#p1");if(h&&b&&n.length>0){n.prepend('<div class="contentsbox"><div class="contentsbox_wrap" onclick="pageTracker._trackEvent(\'Contents Tab\',\'Open\');"><div class="contentsbox_internal"><img title="Expand table of contents" alt="Contents" src="images/t_contents.gif" /></div><div id="sC" class="contentsbox_internal_open"><div class="ne"><div class="n"></div></div><div class="e"><div class="box"><div class="box_wrapper"><div class="box_wrapper_inner" style="overflow-y: auto; overflow-x: hidden"><ul style="list-style: none; padding-left: 0; margin-left: 1em; margin-top: 0em; margin-bottom: 0em; padding-top: 1em; padding-bottom: 1em;"></ul></div></div><div style="padding-right:8px;font-size:10px; position: absolute; top: 14px; right: 10px;"><a href="#" tyle="float: right; display: block"class="mc-contentsbox-close">CLOSE</a></div></div></div><div class="se"><div class="s"></div></div></div></div></div>').find(".contentsbox_internal_open").css({top:0,left:l+"em"}).end();var d=n.find(".contentsbox");d.click(function(o){o.stopPropagation();return true});closeFunction=function(o){return onClose(i,l,m,j)};n.find("a.mc-contentsbox-close").click(closeFunction);var e=f.find(">li").clone().remove("div").removeAttr("id");n.find(".box_wrapper_inner>ul").append(e);var k=d.offset().top;var a=function(){var v=i(window).height();var s=i(window).scrollTop();var q=i(".contentsbox");var u=150;var r=k-s;var p=u+r;var t=i("#pH").offset().top-s;if(p>v){var o=v-u;if(o<t){o=t}q.css("top",o+"px")}return false};a();i(window).resize(a);var c=n.find(".contentsbox_internal");m=c.outerWidth();j=c.outerHeight();c.bind("click",function(){var q=i(".box_wrapper_inner");var t=i(".contentsbox_internal_open");var s=t.outerWidth();var x=t.outerHeight();var u=x-q.height();var o=i(window).height();var p=i(window).scrollTop();if(x>o){x=o;if(x>u){q.height(x-u)}}var v=x+t.offset().top-p;var w=0;if(v>o){var r=(v-o);if(t.offset().top!=0){w=-r}}i("#p1 .contentsbox_wrap").animate({width:s,height:x,top:w},300);i("#p1 .contentsbox_internal").animate({left:l},300);i(".contentsbox_internal_open").animate({left:0},300);i(document).bind("click",closeFunction);return false})}});var treePlus="./images/plus.gif";var treeMinus="./images/minus.gif";var treeDot="./images/dot.gif";function treeToggle(f,d){var c=d.find(">div>ul");var a=d.find(">div>img");var e=c.length==0;if(e){d.find(">div").eq(1).append('<ul style="display: none"><li>Loading...</li></ul>');c=d.find(">div>ul")}if(c.css("display")=="none"){a.attr("src",treeMinus);c.slideDown("fast");if(e){var b="contents/"+d.attr("id").substring(1)+".xml";f.get(b,null,function(g){treeLoad(f,c,g,"xml")})}}else{a.attr("src",treePlus);c.slideUp("fast")}}function treeLoad(d,b,c){b.find("li").remove();var a=d(c).children("treefragment").children("node");a.each(function(){renderTree(d,d(this),b)})}function renderTree(g,e,c){var b=e.attr("id");var d=g(e).children("node");var f=d.length>0;var l=e.attr("next")||f;var h=l?treePlus:treeDot;var i=l?"+":"*";c.append('<li id="_'+b+'"><div style="margin: 0; float: left; width: auto;"><img src="'+h+'" alt="'+i+'"/></div><div style="margin: 0 0 0 20px"><a href="'+e.attr("href")+'" title="'+e.attr("text")+'">'+e.attr("text")+"</a></div></li>");var a=c.find("#_"+b);var k=e.attr("autoExpand");if(f>0){a.find("div:last").append('<ul style="display: none"></ul>');var j=a.find("ul");d.each(function(){renderTree(g,g(this),j)})}if(l){a.find("img").click(function(){treeToggle(g,a)});if(k){a.find("img").trigger("click")}}}function drawTree(g,e){var h=e.attr("id");var d=e.children("ul");if(h||d.length>0){var b=d.css("display")=="block";var c=b?treeMinus:treePlus;var f=d.children("li").filter(":not(.jN)");e.wrapInner('<div style="margin: 0 0 0 20px;"></div>');e.prepend('<div style="margin: 0; float: left; width: auto;"><img src="'+c+'" alt="+"/></div>');var a=e.find("img").first();if(b||f.length==0){f.each(function(){drawTree(g,g(this))});a.click(function(){treeToggle(g,e)})}else{a.click(function(){if(b==false){f.each(function(){drawTree(g,g(this))});b=true}treeToggle(g,e)})}}else{e.wrapInner('<div style="margin: 0 0 0 20px;"></div>');e.prepend('<div style="margin: 0; float: left; width: auto;"><img src="'+treeDot+'" alt="*"/></div>')}}jQuery(function(b){var a=b(".jT>li").filter(":not(.jN)");a.each(function(){drawTree(b,b(this))})});jQuery(function(d){var a=null;var e=0;var c=0;var b=d(".jM li");b.hover(function(){d(this).addClass("hover")},function(){d(this).removeClass("hover")});var g=b.find(".jA");g.click(function(){if(a!=null){a.css("visibility","hidden");a.css("overflow",c);a.height(e);a=null}else{var j=d(this).parent();a=j.find("ul");e=a.height();var n=j.width();var l=d(a).find("li>a");l.each(function(){if(d(this).width()>n){n=d(this).width()}});l.each(function(){if(d(this).width()<n){d(this).width(n)}});a.css("visibility","visible");var o=d(window).scrollTop();var m=d(window).height();var k=(a.offset().top-o)+e;if(k>m){c=a.css("overflow");a.css("overflow","auto");a.height(a.height()-(k-m))}j.hover(function(){var p=d(this).data("timeout");clearTimeout(p)},function(){var p=d(this).data("timeout");clearTimeout(p);p=setTimeout(function(){if(a){a.css("visibility","hidden");a.css("overflow",c);a.height(e);a=null}},500);d(this).data("timeout",p)})}return false});var f=d("#publicationList li");var i=d("#description");var h=i.html();f.hover(function(){var j=d(this).find("a").attr("title");i.text(j)},function(){i.html(h)})});function makeTooltip(f){var c=f.attr("class").split(" ");var a=new Array();var e="<ul>";for(var b=0;b<c.length;++b){var g=c[b];if(g!="tooltip"){var d=document.getElementById(g);if(d){a.push(d);e+="<li>"+d.innerHTML+"</li>"}}}e+="</ul>";return e}jQuery(function(b){var a=b(".tooltip");a.tooltip({bodyHandler:function(){var c=makeTooltip(b(this));return c},showURL:false,fade:200})});jQuery(function(d){var a=["url(./images/p_homepage4.jpg)","url(./images/p_homepage3.jpg)","url(./images/p_homepage2.jpg)","url(./images/p_homepage.jpg)"];var c=0;var b=0;d(".featuremenu a").hover(function(){var g=d(this).data("timeout");clearTimeout(g);var f=d(".featuremenu a").index(this);var e=a[f];g=setTimeout(function(){c=f;if(b==0){d("#feature .v").css("background-image",e);d("#animation").animate({opacity:0},300);b=1}else{d("#animation").css("background-image",e);d("#animation").animate({opacity:1},300);b=0}d(".featurette_top").hide().eq(f).show()},250);d(this).data("timeout",g)},function(){var e=d(this).data("timeout");clearTimeout(e)})});$.ga=function(a){var b=(("https:"==document.location.protocol)?"https://ssl.":"http://www.");var c=b+"google-analytics.com/ga.js";$.ajax({type:"GET",url:c,success:function(){try{pageTracker=_gat._getTracker(a);pageTracker._trackPageview()}catch(d){}},error:function(){},dataType:"script",cache:true})};
